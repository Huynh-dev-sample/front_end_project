{"ast":null,"code":"import _regeneratorRuntime from\"D:/external_project/front_end_project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"D:/external_project/front_end_project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"D:/external_project/front_end_project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/external_project/front_end_project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/*!\r\n\r\n=========================================================\r\n* Argon Dashboard React - v1.1.0\r\n=========================================================\r\n\r\n* Product Page: https://www.creative-tim.com/product/argon-dashboard-react\r\n* Copyright 2019 Creative Tim (https://www.creative-tim.com)\r\n* Licensed under MIT (https://github.com/creativetimofficial/argon-dashboard-react/blob/master/LICENSE.md)\r\n\r\n* Coded by Creative Tim\r\n\r\n=========================================================\r\n\r\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n\r\n*/import React,{useEffect,useState}from\"react\";// reactstrap components\nimport{Button,Card,CardHeader,CardBody,FormGroup,Form,Input,Container,Row,Col}from\"reactstrap\";// core components\nimport UserHeader from\"components/Headers/UserHeader.js\";import EditHeader from\"../../components/Headers/EditHeader\";import{edit}from\"../../network/ApiAxios\";var EditProfile=function EditProfile(props){var user=JSON.parse(localStorage.getItem(\"user\"));var _useState=useState(user.name),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(user.email),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isTestUser=_useState6[0],setIsTestUser=_useState6[1];useEffect(function(){if(JSON.parse(localStorage.getItem(\"user\")).email===\"test@test.com\"){setIsTestUser(true);}},[]);var editUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return edit(user._id,name,email);case 2:response=_context.sent;data=response.data;if(data.success){user=_objectSpread(_objectSpread({},user),{},{name:name,email:email});localStorage.setItem(\"user\",JSON.stringify(user));props.history.push(\"/admin/user-profile\");}case 5:case\"end\":return _context.stop();}},_callee);}));return function editUser(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(EditHeader,null),/*#__PURE__*/React.createElement(Container,{className:\"mt--7\",fluid:true},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(Card,{className:\"bg-secondary shadow\"},/*#__PURE__*/React.createElement(CardHeader,{className:\"bg-white border-0\"},/*#__PURE__*/React.createElement(Row,{className:\"align-items-center\"},/*#__PURE__*/React.createElement(Col,{xs:\"8\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"mb-0\"},\"My account\"),isTestUser?/*#__PURE__*/React.createElement(\"h5\",null,\"You are not allowed to edit the test user. Create another user to test this functionality\"):null),/*#__PURE__*/React.createElement(Col,{className:\"text-right\",xs:\"4\"},/*#__PURE__*/React.createElement(Button,{color:\"primary\",href:\"#pablo\",onClick:editUser,size:\"sm\",disabled:isTestUser},\"Save\")))),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(\"h6\",{className:\"heading-small text-muted mb-4\"},\"User information\"),/*#__PURE__*/React.createElement(\"div\",{className:\"pl-lg-4\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(\"label\",{className:\"form-control-label\",htmlFor:\"input-username\"},\"Username\"),/*#__PURE__*/React.createElement(Input,{className:\"form-control-alternative\",value:name,id:\"input-username\",placeholder:\"Username\",onChange:function onChange(e){return setName(e.target.value);},type:\"text\"}))),/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(\"label\",{className:\"form-control-label\",htmlFor:\"input-email\"},\"Email address\"),/*#__PURE__*/React.createElement(Input,{className:\"form-control-alternative\",id:\"input-email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},type:\"email\"}))))))))))));};export default EditProfile;","map":{"version":3,"names":["React","useEffect","useState","Button","Card","CardHeader","CardBody","FormGroup","Form","Input","Container","Row","Col","UserHeader","EditHeader","edit","EditProfile","props","user","JSON","parse","localStorage","getItem","_useState","name","_useState2","_slicedToArray","setName","_useState3","email","_useState4","setEmail","_useState5","_useState6","isTestUser","setIsTestUser","editUser","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","_id","sent","success","_objectSpread","setItem","stringify","history","push","stop","apply","arguments","createElement","Fragment","className","fluid","xs","color","href","onClick","size","disabled","lg","htmlFor","value","id","placeholder","onChange","e","target","type"],"sources":["D:/external_project/front_end_project/src/views/examples/EditProfile.js"],"sourcesContent":["/*!\r\n\r\n=========================================================\r\n* Argon Dashboard React - v1.1.0\r\n=========================================================\r\n\r\n* Product Page: https://www.creative-tim.com/product/argon-dashboard-react\r\n* Copyright 2019 Creative Tim (https://www.creative-tim.com)\r\n* Licensed under MIT (https://github.com/creativetimofficial/argon-dashboard-react/blob/master/LICENSE.md)\r\n\r\n* Coded by Creative Tim\r\n\r\n=========================================================\r\n\r\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n\r\n*/\r\nimport React, {useEffect, useState} from \"react\";\r\n\r\n// reactstrap components\r\nimport {\r\n    Button,\r\n    Card,\r\n    CardHeader,\r\n    CardBody,\r\n    FormGroup,\r\n    Form,\r\n    Input,\r\n    Container,\r\n    Row,\r\n    Col\r\n} from \"reactstrap\";\r\n// core components\r\nimport UserHeader from \"components/Headers/UserHeader.js\";\r\nimport EditHeader from \"../../components/Headers/EditHeader\";\r\nimport {edit} from \"../../network/ApiAxios\";\r\n\r\nconst EditProfile = props => {\r\n\r\n    let user = JSON.parse(localStorage.getItem(\"user\"));\r\n\r\n    const [name, setName] = useState(user.name);\r\n    const [email, setEmail] = useState(user.email);\r\n    const [isTestUser, setIsTestUser] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (JSON.parse(localStorage.getItem(\"user\")).email === \"test@test.com\") {\r\n            setIsTestUser(true);\r\n        }\r\n    }, []);\r\n\r\n    const editUser = async () => {\r\n        const response = await edit(user._id, name, email);\r\n        const { data } = response;\r\n        if (data.success) {\r\n            user = {...user, name, email}\r\n            localStorage.setItem(\"user\", JSON.stringify(user));\r\n            props.history.push(\"/admin/user-profile\");\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <EditHeader/>\r\n            {/* Page content */}\r\n            <Container className=\"mt--7\" fluid>\r\n                <Row>\r\n                    <div className=\"col\">\r\n                        <Card className=\"bg-secondary shadow\">\r\n                            <CardHeader className=\"bg-white border-0\">\r\n                                <Row className=\"align-items-center\">\r\n                                    <Col xs=\"8\">\r\n                                        <h3 className=\"mb-0\">My account</h3>\r\n                                        {isTestUser ? <h5>You are not allowed to edit the test user. Create another user to test this functionality</h5> : null}\r\n                                    </Col>\r\n                                    <Col className=\"text-right\" xs=\"4\">\r\n                                        <Button\r\n                                            color=\"primary\"\r\n                                            href=\"#pablo\"\r\n                                            onClick={editUser}\r\n                                            size=\"sm\"\r\n                                            disabled={isTestUser}\r\n                                        >\r\n                                            Save\r\n                                        </Button>\r\n                                    </Col>\r\n                                </Row>\r\n                            </CardHeader>\r\n                            <CardBody>\r\n                                <Form>\r\n                                    <h6 className=\"heading-small text-muted mb-4\">\r\n                                        User information\r\n                                    </h6>\r\n                                    <div className=\"pl-lg-4\">\r\n                                        <Row>\r\n                                            <Col lg=\"6\">\r\n                                                <FormGroup>\r\n                                                    <label\r\n                                                        className=\"form-control-label\"\r\n                                                        htmlFor=\"input-username\"\r\n                                                    >\r\n                                                        Username\r\n                                                    </label>\r\n                                                    <Input\r\n                                                        className=\"form-control-alternative\"\r\n                                                        value={name}\r\n                                                        id=\"input-username\"\r\n                                                        placeholder=\"Username\"\r\n                                                        onChange={e => setName(e.target.value)}\r\n                                                        type=\"text\"\r\n                                                    />\r\n                                                </FormGroup>\r\n                                            </Col>\r\n                                            <Col lg=\"6\">\r\n                                                <FormGroup>\r\n                                                    <label\r\n                                                        className=\"form-control-label\"\r\n                                                        htmlFor=\"input-email\"\r\n                                                    >\r\n                                                        Email address\r\n                                                    </label>\r\n                                                    <Input\r\n                                                        className=\"form-control-alternative\"\r\n                                                        id=\"input-email\"\r\n                                                        value={email}\r\n                                                        onChange={e => setEmail(e.target.value)}\r\n                                                        type=\"email\"\r\n                                                    />\r\n                                                </FormGroup>\r\n                                            </Col>\r\n                                        </Row>\r\n                                    </div>\r\n                                </Form>\r\n                            </CardBody>\r\n                        </Card>\r\n                    </div>\r\n                </Row>\r\n            </Container>\r\n        </>\r\n);\r\n}\r\n\r\nexport default EditProfile;\r\n"],"mappings":"2fAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EACA,MAAO,CAAAA,KAAK,EAAGC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CAEhD;AACA,OACIC,MAAM,CACNC,IAAI,CACJC,UAAU,CACVC,QAAQ,CACRC,SAAS,CACTC,IAAI,CACJC,KAAK,CACLC,SAAS,CACTC,GAAG,CACHC,GAAG,KACA,YAAY,CACnB;AACA,MAAO,CAAAC,UAAU,KAAM,kCAAkC,CACzD,MAAO,CAAAC,UAAU,KAAM,qCAAqC,CAC5D,OAAQC,IAAI,KAAO,wBAAwB,CAE3C,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAGC,KAAK,CAAI,CAEzB,GAAI,CAAAC,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAEnD,IAAAC,SAAA,CAAwBrB,QAAQ,CAACgB,IAAI,CAACM,IAAI,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAH,SAAA,IAApCC,IAAI,CAAAC,UAAA,IAAEE,OAAO,CAAAF,UAAA,IACpB,IAAAG,UAAA,CAA0B1B,QAAQ,CAACgB,IAAI,CAACW,KAAK,CAAC,CAAAC,UAAA,CAAAJ,cAAA,CAAAE,UAAA,IAAvCC,KAAK,CAAAC,UAAA,IAAEC,QAAQ,CAAAD,UAAA,IACtB,IAAAE,UAAA,CAAoC9B,QAAQ,CAAC,KAAK,CAAC,CAAA+B,UAAA,CAAAP,cAAA,CAAAM,UAAA,IAA5CE,UAAU,CAAAD,UAAA,IAAEE,aAAa,CAAAF,UAAA,IAEhChC,SAAS,CAAC,UAAM,CACZ,GAAIkB,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAACO,KAAK,GAAK,eAAe,CAAE,CACpEM,aAAa,CAAC,IAAI,CAAC,CACvB,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAC,QAAQ,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,CAAAC,IAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACU,CAAAjC,IAAI,CAACG,IAAI,CAAC+B,GAAG,CAAEzB,IAAI,CAAEK,KAAK,CAAC,QAA5Ca,QAAQ,CAAAI,QAAA,CAAAI,IAAA,CACNP,IAAI,CAAKD,QAAQ,CAAjBC,IAAI,CACZ,GAAIA,IAAI,CAACQ,OAAO,CAAE,CACdjC,IAAI,CAAAkC,aAAA,CAAAA,aAAA,IAAOlC,IAAI,MAAEM,IAAI,CAAJA,IAAI,CAAEK,KAAK,CAALA,KAAK,EAAC,CAC7BR,YAAY,CAACgC,OAAO,CAAC,MAAM,CAAElC,IAAI,CAACmC,SAAS,CAACpC,IAAI,CAAC,CAAC,CAClDD,KAAK,CAACsC,OAAO,CAACC,IAAI,CAAC,qBAAqB,CAAC,CAC7C,CAAC,wBAAAV,QAAA,CAAAW,IAAA,MAAAhB,OAAA,GACJ,kBARK,CAAAL,QAAQA,CAAA,SAAAC,IAAA,CAAAqB,KAAA,MAAAC,SAAA,OAQb,CAED,mBACI3D,KAAA,CAAA4D,aAAA,CAAA5D,KAAA,CAAA6D,QAAA,mBACI7D,KAAA,CAAA4D,aAAA,CAAC9C,UAAU,MAAE,cAEbd,KAAA,CAAA4D,aAAA,CAAClD,SAAS,EAACoD,SAAS,CAAC,OAAO,CAACC,KAAK,oBAC9B/D,KAAA,CAAA4D,aAAA,CAACjD,GAAG,mBACAX,KAAA,CAAA4D,aAAA,QAAKE,SAAS,CAAC,KAAK,eAChB9D,KAAA,CAAA4D,aAAA,CAACxD,IAAI,EAAC0D,SAAS,CAAC,qBAAqB,eACjC9D,KAAA,CAAA4D,aAAA,CAACvD,UAAU,EAACyD,SAAS,CAAC,mBAAmB,eACrC9D,KAAA,CAAA4D,aAAA,CAACjD,GAAG,EAACmD,SAAS,CAAC,oBAAoB,eAC/B9D,KAAA,CAAA4D,aAAA,CAAChD,GAAG,EAACoD,EAAE,CAAC,GAAG,eACPhE,KAAA,CAAA4D,aAAA,OAAIE,SAAS,CAAC,MAAM,EAAC,YAAU,CAAK,CACnC5B,UAAU,cAAGlC,KAAA,CAAA4D,aAAA,WAAI,2FAAyF,CAAK,CAAG,IAAI,CACrH,cACN5D,KAAA,CAAA4D,aAAA,CAAChD,GAAG,EAACkD,SAAS,CAAC,YAAY,CAACE,EAAE,CAAC,GAAG,eAC9BhE,KAAA,CAAA4D,aAAA,CAACzD,MAAM,EACH8D,KAAK,CAAC,SAAS,CACfC,IAAI,CAAC,QAAQ,CACbC,OAAO,CAAE/B,QAAS,CAClBgC,IAAI,CAAC,IAAI,CACTC,QAAQ,CAAEnC,UAAW,EACxB,MAED,CAAS,CACP,CACJ,CACG,cACblC,KAAA,CAAA4D,aAAA,CAACtD,QAAQ,mBACLN,KAAA,CAAA4D,aAAA,CAACpD,IAAI,mBACDR,KAAA,CAAA4D,aAAA,OAAIE,SAAS,CAAC,+BAA+B,EAAC,kBAE9C,CAAK,cACL9D,KAAA,CAAA4D,aAAA,QAAKE,SAAS,CAAC,SAAS,eACpB9D,KAAA,CAAA4D,aAAA,CAACjD,GAAG,mBACAX,KAAA,CAAA4D,aAAA,CAAChD,GAAG,EAAC0D,EAAE,CAAC,GAAG,eACPtE,KAAA,CAAA4D,aAAA,CAACrD,SAAS,mBACNP,KAAA,CAAA4D,aAAA,UACIE,SAAS,CAAC,oBAAoB,CAC9BS,OAAO,CAAC,gBAAgB,EAC3B,UAED,CAAQ,cACRvE,KAAA,CAAA4D,aAAA,CAACnD,KAAK,EACFqD,SAAS,CAAC,0BAA0B,CACpCU,KAAK,CAAEhD,IAAK,CACZiD,EAAE,CAAC,gBAAgB,CACnBC,WAAW,CAAC,UAAU,CACtBC,QAAQ,CAAE,SAAAA,SAAAC,CAAC,QAAI,CAAAjD,OAAO,CAACiD,CAAC,CAACC,MAAM,CAACL,KAAK,CAAC,EAAC,CACvCM,IAAI,CAAC,MAAM,EACb,CACM,CACV,cACN9E,KAAA,CAAA4D,aAAA,CAAChD,GAAG,EAAC0D,EAAE,CAAC,GAAG,eACPtE,KAAA,CAAA4D,aAAA,CAACrD,SAAS,mBACNP,KAAA,CAAA4D,aAAA,UACIE,SAAS,CAAC,oBAAoB,CAC9BS,OAAO,CAAC,aAAa,EACxB,eAED,CAAQ,cACRvE,KAAA,CAAA4D,aAAA,CAACnD,KAAK,EACFqD,SAAS,CAAC,0BAA0B,CACpCW,EAAE,CAAC,aAAa,CAChBD,KAAK,CAAE3C,KAAM,CACb8C,QAAQ,CAAE,SAAAA,SAAAC,CAAC,QAAI,CAAA7C,QAAQ,CAAC6C,CAAC,CAACC,MAAM,CAACL,KAAK,CAAC,EAAC,CACxCM,IAAI,CAAC,OAAO,EACd,CACM,CACV,CACJ,CACJ,CACH,CACA,CACR,CACL,CACJ,CACE,CACb,CAEX,CAAC,CAED,cAAe,CAAA9D,WAAW"},"metadata":{},"sourceType":"module"}